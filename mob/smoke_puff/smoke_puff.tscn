[gd_scene load_steps=9 format=3 uid="uid://cjk3frr43yesb"]

[ext_resource type="Shader" uid="uid://spi71y1qu06o" path="res://mob/smoke_puff/material/outer_smoke.gdshader" id="1"]
[ext_resource type="ArrayMesh" uid="uid://dwqvdmqnqgaxe" path="res://mob/smoke_puff/smoke_sphere.obj" id="2"]
[ext_resource type="Shader" uid="uid://0h8qjtcpk0mk" path="res://mob/smoke_puff/material/inner_smoke.gdshader" id="3"]
[ext_resource type="Animation" uid="uid://drrd257af7jpy" path="res://mob/smoke_puff/poof.res" id="4"]
[ext_resource type="AudioStream" uid="uid://bk0cup3k4dgwx" path="res://mob/smoke_puff/poof_sound.wav" id="5"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kxfi4"]
resource_local_to_scene = true
render_priority = 0
next_pass = null
shader = ExtResource("1")
shader_parameter/albedo = Color(0.937255, 0.698039, 1, 1)
shader_parameter/progress = 1.8
shader_parameter/smoothness = 0.1
shader_parameter/ease = 3.0
shader_parameter/base_scale = 1.2
shader_parameter/deformation_scale = 1.5
shader_parameter/texture_offset = -0.5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xbopy"]
resource_local_to_scene = true
render_priority = 0
next_pass = null
shader = ExtResource("3")
shader_parameter/albedo = Color(1, 0.537255, 0.792157, 1)
shader_parameter/progress = 0.0
shader_parameter/smoothness = 0.01
shader_parameter/ease = 2.0
shader_parameter/base_scale = 1.1
shader_parameter/deformation_scale = 1.0
shader_parameter/texture_offset = 0.1
shader_parameter/fresnel_offset = 0.5
shader_parameter/global_alpha = 0.0

[sub_resource type="AnimationLibrary" id="AnimationLibrary_a08pi"]
_data = {
&"poof": ExtResource("4")
}

[node name="smoke_puff" type="Node3D"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)

[node name="OuterSmoke" type="MeshInstance3D" parent="."]
material_override = SubResource("ShaderMaterial_kxfi4")
mesh = ExtResource("2")

[node name="InnerSmoke" type="MeshInstance3D" parent="."]
material_override = SubResource("ShaderMaterial_xbopy")
mesh = ExtResource("2")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
&"": SubResource("AnimationLibrary_a08pi")
}
autoplay = "poof"

[node name="Sound" type="AudioStreamPlayer3D" parent="."]
unique_name_in_owner = true
stream = ExtResource("5")
